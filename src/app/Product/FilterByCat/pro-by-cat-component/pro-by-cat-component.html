
<div class="category-hero">
  <img [src]="getImageUrl(category.imageUrl)" alt="no photo category" class="hero-img">

  <div class="overlay"></div>

  <div class="hero-text">
    <h2>{{ category.name }}</h2>
    <p>{{ category.description }}</p>
  </div>
</div>


<div class="container">
 <!--  state load products -->
  <div *ngIf="loadingServices.isLoading | async" class="text-center my-5">
    <app-spinner-component></app-spinner-component>
  </div>
   <!-- حالة فيه بيانات -->
  <div *ngIf="!(loadingServices.isLoading | async) && products && products.length > 0"
       class="row">
    <div class="col-md-3 mb-4" *ngFor="let product of products">
      <div class="card h-100 shadow-sm">
        <span class="brand">{{product.brand}}</span>
        <img [src]="getImageUrl(product.imageUrl[0])" class="image card-img-top" alt="{{ product.name }}" (click)="Details(product.id,product.category.id)">
        <div class="card-body">
          <span class="cat-name">{{product.catName}}</span>
          <h4 class="card-title">{{ product.name }}</h4>
          <div class="d-flex justify-content-between align-items-center">
            <div class=""><i class="star bi bi-star-fill text-warning" *ngFor="let star of getStars(product.rating)"></i>{{ product.rating }}</div>
          </div>
          <div class="mt-2 d-flex justify-content-between align-items-center">
            <span class="price">{{ product.price | currency}}</span>
            <div class="btn-group">
              <div class="love-icon" (click)="addToWishlist(product)" >
                  <i class="bi bi-bookmark-heart-fill"></i>
              </div>
              <div class="cart-icon" (click)="addToCart(product)">
                <i class="bi bi-cart-plus"></i>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- حالة مفيش بيانات -->
  <div *ngIf="!(loadingServices.isLoading | async) && products && products.length === 0"
       class="alert alert-info text-center">
    No products available.
  </div>
</div>
